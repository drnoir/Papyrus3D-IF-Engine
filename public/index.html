<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Papyrus 3D - Template</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>
    <script
        src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
</head>

<body>
    <a-scene>
        <a-entity light="type: ambient; color: #CCC;intensity: 0.1;"></a-entity>
        <a-assets>
            <!-- ADD your asset references here -->
            <!-- models -->
            <a-asset-item id="Tech1" src='./models/geek.glb'></a-asset-item>
            <a-asset-item id="woman" src='./models/woman.glb'></a-asset-item>
            <a-asset-item id="man" src='./models/man/Walking.glb'></a-asset-item>
            <a-asset-item id="grunt" src='./models/grunt.glb'></a-asset-item>
            <a-asset-item id="lady" src='./models/lady.glb'></a-asset-item>
            <a-asset-item id="cop" src='./models/copwalk.glb'></a-asset-item>
            <a-asset-item id="glow" src="./glow.png"></a-asset-item>
            <a-asset-item id="chest" src="./models/prefabs/chest.glb"></a-asset-item>
            <a-asset-item id="computer" src="./models/prefabs/computer.glb"></a-asset-item>
            <a-asset-item id="switchboard" src="./models/prefabs/switchboard.gltf"></a-asset-item>
            <a-asset-item id="clock" src="./models/prefabs/clock.glb"></a-asset-item>
            <a-asset-item id="table" src="./models/prefabs/table.glb"></a-asset-item>
            <a-asset-item id="pipe3" src="./models/prefabs/pipe_3.glb"></a-asset-item>
            <a-asset-item id="pipe4" src="./models/prefabs/pipe_3.glb"></a-asset-item>
            <a-asset-item id="cylinder" src='./models/cylinder.glb'></a-asset-item>
            <a-asset-item id="zombie" src='./models/zombie.glb'></a-asset-item>
            <!-- sounds -->
            <audio id="music" src="./sound/music.mp3" preload="auto"></audio>
            <audio id="ambient" src="./sound/ambient.mp3" preload="auto"></audio>
            <audio id="hit" src="./sound/hit.wav" preload="auto"></audio>
            <audio id="death" src="./sound/death.wav" preload="auto"></audio>
            <audio id="attack" src="./sound/attack.wav" preload="auto"></audio>
            <audio id="playerhit" src="./sound/playerpain.wav" preload="auto"></audio>
            <audio id="playerdeath" src="./sound/playerdeath.wav" preload="auto"></audio>
            <audio id="playerpain" src="./sound/playerpain.wav" preload="auto"></audio>
            <audio id="playerattack" src="./sound/playerpunch.wav" preload="auto"></audio>
            <audio id="dooropen" src="./sound/dooropen.mp3" preload="auto" volume="1.5"></audio>
            <audio id="keypickup" src="./sound/keypickup.mp3" preload="auto"></audio>
            <!--textures-->
            <img id="brick" src="./textures/walls/steelFuture.jpg">
            <img id="talk" src="./talk.png">
            <img id="door" src="./textures/structures/metaldoor.jpg">
            <img id="floor" src="./textures/structures/whitegrav.JPG">
            <img id="wooddoor" src="./textures/wood/wooddoor.jpg">
            <img id="grunge" src="./textures/structures/whitegrav.JPG">
            <img id="orangebrick" src="./textures/walls/orangebrick.jpg">
            <img id="water" src="./textures/nature/water.jpg">
            <img id="poster1" src="./textures/posters/1.jpg">
            <img id="poster2" src="./textures/posters/2.jpg">
            <img id="poster3" src="./textures/posters/3.jpg">
            <img id="poster4" src="./textures/posters/4.jpg">
            <img id="exit" src="./textures/structures/pattern.JPG">
            <img id="key" src="./textures/structures/metaldoor.jpg">
            <img id="sky" src="textures/night.jpg">
        </a-assets>
        <!-- // sound fx asset loading -->
        <!-- <a-entity sound="src: #music" autoplay="true" volume="4" loop="true" positional="false"
            refDistance="30000"></a-entity> -->
        <a-entity sound="src: #ambient" autoplay="true" volume="5" loop="true" positional="false"
            refDistance="30000"></a-entity>
        <a-entity sound="src: #hit" autoplay="false" volume="1.5" loop="false" positional="true"></a-entity>
        <a-entity sound="src: #death" autoplay="false" volume="1.5" loop="false" positional="true"></a-entity>
        <a-entity sound="src: #attack" autoplay="false" volume="1.5" loop="false" positional="true"></a-entity>
        <a-entity sound="src: #playerhit" autoplay="false" volume="1.5" loop="false" positional="true"></a-entity>
        <a-entity sound="src: #playerdeath" autoplay="false" volume="1.5" loop="false" positional="true"></a-entity>
        <a-entity sound="src: #playerpain" autoplay="false" volume="1.5" loop="false" positional="true"></a-entity>
        <a-entity sound="src: #playerattack" autoplay="false" volume="1.5" loop="false" positional="true"></a-entity>
       
        <a-entity light="type: ambient; color: #CCC;intensity: 0.2;"></a-entity>
        <!-- start game UI -->
        <a-circle id="startGame" startgamebtn radius="0.5" depth="0.1" position="1 2 -0.1 " rotation="0 0 0"
            color="black"><a-text position="-0.5 0 0.2" value="Start Game"></a-text></a-circle>
        <!-- player cam / fuse etc -->
        <a-entity id="playercam" position="1 1.5 2">
            <a-entity id="camera" camera look-controls>
                <a-text position="-1.3 -0.4 -0.8" value="Health:" width="1" depth="0.1"></a-text>
                <a-entity id="healthbarUI" healthbar position="0.7 -0.1 -0.8"></a-entity>
                <a-text position="-1.3 -0.6 -0.8" value="Keys:" width="1" depth="0.1"></a-text>
                <!-- key cards UI -->
                <a-plane id="blueKey" position="-1.1 -0.6 -0.8" width="0.1" height="0.1" depth="0.1"
                    material="color:blue;" visible="false"></a-plane>
                <a-plane id="yellowKey" position="-1 -0.6 -0.8" width="0.1" height="0.1" depth="0.1"
                    material="color:yellow;" visible="false"></a-plane>
                <a-plane id="redKey" position="-0.9 -0.6 -0.8" width="0.1" height="0.1" depth="0.1"
                    material="color:red;" visible="false"></a-plane>
                <!-- Fuse Cursor -->
                <a-entity cursor="fuse: true; fuseTimeout: 2000;" position="0 0 -1"
                    geometry="primitive: ring; radiusInner: 0.05; radiusOuter: 0.06"
                    material="color: white; shader: flat" scale="0.2 0.2 0.2"
                    animation__mouseenter="property: scale; to: 0.3 0.3 0.3; dur: 150"
                    animation__mouseleave="property: scale; to: 0.2 0.2 0.2; dur: 150"
                    animation__fusing="property: scale; to: 0.4 0.4 0.4; dur: 150"
                    animation__mouseleave="property: scale; to: 0.2 0.2 0.2; dur: 150">
                </a-entity>
                <a-entity id="dialogueBox" visible="false" position="0.8 -0.6 -1" scale="1 0.9 1"
                    material="color: white; opacity: 1" geometry="primitive: plane">
                    <a-box position="0 0.6 0" width="1" height="0.2" depth="0.01" opacity="1" material="color:black;">
                        <a-text id="dialogueTitle" position="0 0 0.01" value=" " color="white" align="center"
                            width="1.3" height="0.09" wrap-count="25"></a-text>
                    </a-box>
                    <a-text id="dialogueContent" position="0 0.3 0.01" width="1" height="0.6" align="center"
                        wrap-count="20" color="black" value="">
                    </a-text>
                    <a-entity id="choices" position="0 0.4 0" visible="true"
                        text="align: center; width: 4; wrapCount: 10; color: black"></a-entity>
                </a-entity>
            </a-entity>
        </a-entity>
        <!-- Rooms-->
        <a-entity id="room"></a-entity>
        <a-sky src="#sky"></a-sky>
        <!-- Sky -->
        <!-- Add the VR controls -->
        <a-entity laser-controls="hand: right" raycaster="objects: .clickable"></a-entity>
        <a-entity laser-controls="hand: left"></a-entity>
    </a-scene>
</body>
<script src="./engine/components.js" type="module"></script>
<script src="./engine/papyrus.js" type="module"></script>

</html>